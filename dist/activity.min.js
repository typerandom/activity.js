!function(n){function t(e){if(i[e])return i[e].exports;var c=i[e]={exports:{},id:e,loaded:!1};return n[e].call(c.exports,c,c.exports,t),c.loaded=!0,c.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t){!function(){function n(t){function i(n,t){if(t||(t=[]),n in d)for(var i=0;i<d[n].length;i++)d[n][i].apply(null,t)}function e(n,t){if(l!==n||t===!0)switch(l=n){case s.Inactive:i("inactive");break;case s.Active:i("active")}}function c(){var n=null;n=++w>=t.inactiveAfter?s.Inactive:s.Active,e(n)}function o(){w=0,clearTimeout(p),e(s.Active)}function a(){clearTimeout(p),p=setTimeout(function(){e(s.Inactive)},50)}function r(){document.hidden?o():e(s.Inactive)}function u(n,t,i){n.addEventListener?n.addEventListener(t,i):n.attachEvent&&n.attachEvent(t,i)}function v(n,t,i){n.removeEventListener?n.removeEventListener(t,i):n.detachEvent&&n.detachEvent(t,i)}var s=n.State,d={},f=!1,l=s.Unknown,w=0,y=null,p=null;t||(t={});var m={inactiveAfter:60,inactiveOnLostFocus:!0,inactiveOnNoVisibility:!0,inactiveOnMouseInactivity:!0,inactiveOnKeyboardInactivity:!0};for(var h in m){var b=m[h];h in t||(t[h]=b)}return{start:function(){return f?!1:(f=!0,y=setInterval(c,1e3),t.inactiveOnMouseInactivity&&u(window,"mousemove",o),t.inactiveOnKeyboardInactivity&&u(window,"keypress",o),t.inactiveOnLostFocus&&(u(window,"blur",a),u(window,"focus",o)),t.inactiveOnNoVisibility&&u(document,"visibilitychange",r),i("started"),!0)},state:function(){return l},on:function(n,t){n in d||(d[n]=[]),d[n].push(t)},replayState:function(){e(l,!0)},stop:function(){return f?(f=!1,l=s.Unknown,clearTimeout(y),t.inactiveOnMouseInactivity&&v(window,"mousemove",o),t.inactiveOnKeyboardInactivity&&v(window,"keypress",o),t.inactiveOnLostFocus&&(v(window,"blur",a),v(window,"focus",o)),t.inactiveOnNoVisibility&&v(document,"visibilitychange",r),i("stopped"),!0):!1}}}function t(t){return i?i:i=new n(t)}n.State={Unknown:0,Inactive:1,Active:2},Object.freeze(n.State);var i=null;n.configure=function(n){return t(n)},n.detect=function(){var n=t();return n.initialized?!0:(n.initialized=!0,n.on("inactive",function(){window.dispatchEvent(new CustomEvent("user_inactive"))}),n.on("active",function(){window.dispatchEvent(new CustomEvent("user_active"))}),n.start(),!0)},n.on=function(n,i){return t().on(n,i)},n.state=function(){return t().state()},n.replayState=function(){var t=n._instance;if(!t)throw new Error("Activity.detect() hasn't been called.");return t.replayState()},window.Activity=n}()}]);
//# sourceMappingURL=activity.min.js.map